syntax = "proto3";

package flow.entities;

option go_package = "github.com/onflow/flow/protobuf/go/flow/entities";
option java_package = "org.onflow.protobuf.entities";

message Event {
  string type = 1;
  bytes transaction_id = 2;
  uint32 transaction_index = 3;
  uint32 event_index = 4;
  bytes payload = 5;
}


message EventInclusionProof {
	// standard Sha3 hash of SerializedEventContent
	bytes EventID = 1;

	// RLP encoded value of an event data in this order 
	//      transaction_id:      transaction identifer (bytes),
	//	    transaction_index:   index of this event based on events emitted in this tx(uint32)
	//		type:                the qualified event type generated by candence runtime (string)
	//		transaction_index:   the index of the transaction within the block (uint32)
	//		payload:             cadence json encoding of the event payload (bytes),
	bytes SerializedEventContent = 2;

	// InterimNodeTypes is supposed to be consumed bit by bit to determine the node types (0: fullnode, 1: shortnode) on the path to the leaf node. canonical form of InterimNodeTypes requires allocating the minimum number of bytes to capture all the nodes on the path and trailing zeros for the bits that are not used. 
	repeated bytes InterimNodeTypes = 3;

	// a series of uint32 values which represents shortNode's count (number of bits of path that are covered by the short node) for each short node on the path.
	repeated uint32 ShortPathLengths = 4;

	// a series of 32-byte hash values which represents the hash of the non-visited sibling node for each full node on the path.
	repeated bytes SiblingHashes = 5;
}
